# 树及树的变种结构 -- 二叉搜索树、堆、AVL 树

## 二叉搜索树

又称为有序二叉树，排序二叉树，它是在 [二叉树]() 的基础上发展出来的，满足二叉树的要求，并添加如下特性：

- 没有键值相等的节点；
- 若左子树不为空，左子树上节点值均小于根节点的值；
- 若右子树不为空，右子树上节点值均大于根节点的值；

## 用途

根据二叉搜索树的特点，符合 分治思想的算法设计，在搜索指定节点的时候可以做着半查找：

- 二叉查找树中对于目标节点的查找过程类似与有序数组的二分查找，并且查找次数不会超过树的深度

### 数学理论

设节点数目为n，树的深度为h，假设树的每层都被塞满(第L层有2^L个节点，层数从1开始)，则根据等比数列公式可得h=log（n+1）。即最好的情况下，二叉查找树的查找效率为O(log n)。当二叉查找树退化为单链表时，比如，只有右子树的情况,如下图所示，此时查找效率为O(n)


## AVL 树

平衡二叉树，AVL 是创造者的人名，AVL 树的产生背景是为了解决 二叉搜索树在极端效率情况下二叉树退化为单链表的问题，在 二叉搜索树的基础上添加如下约定：

- 父节点的左右两棵子树的深度之差的绝对值不超过 1 ；

通过上述约定，平衡二叉树就是避免了二叉查找树退化为单链表的极端情况，AVL 树保证查找、插入、删除的时间复杂度稳定在O(log n)；

## 堆

二叉树的一个应用是堆，具有如下性质：

- 堆中任意节点的值不大于(小于)其子节点的值。
- 堆是一棵完全树；

二叉堆由一棵完全二叉树组成。堆的实现一般为数组形式。对于下标为i的节点，其父节点下标为floor((i-1)/2)（向下取整），左节点是2*i+1，右节点是2*i+2。一个最小二叉堆以及其数组实现如下所示

堆有两种形式：

1. 大根堆 和 小根堆，或叫 大顶堆，小顶堆；

> 这里的堆是数据结构中的堆而非内存模型中的堆.


- 二叉查找树是为了实现动态查找而设计的数据结构，它是面向查找操作的，在二叉排序树中查找一个结点的平均时间复杂度是O(log n)；
- 堆是为了实现排序而设计的一种数据结构，它不是面向查找操作的。




### 区别

1. 二叉排序树：左子树小于根节点，根节点又小于右子树。堆的根不大于或小于其子节点；
2. 从上面各自的结构上的分析可得：二叉排序树是用来做查找的，而堆是用来做排序的。